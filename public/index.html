<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"> 
    <link rel="stylesheet" href="bower_components/angular-material/angular-material.min.css">
    <link rel="stylesheet" type="text/css" href="styles/style.css" />

    <title>Risk Field</title>
    
  </head>

  <script src="bower_components/d3/d3.js"></script>
  <script src="lib/colorbrewer.js"></script>
  <script src="bower_components/d3-tip/index.js"></script>
  <script src="bower_components/angular/angular.js"></script>
  <script src="bower_components/angular-aria/angular-aria.js"></script>
  <script src="bower_components/angular-animate/angular-animate.js"></script>
  <script src="bower_components/angular-material/angular-material.js"></script>
  <script src="bower_components/underscore/underscore.js"></script>



  <body ng-app="riskField">

    <h1 class="md-display-2 title">Risk Field</h1>

        
    <div class="array" ng-controller="d3ArrayController">
      <div class="search">
      <form name="buildingSearch" novalidate>
        <md-content layout-padding>
          <md-input-container flex>
            <input name="search" type="text" ng-focus="revealResults()" ng-blur="hideResults()" ng-model="searchText" ng-minlength="2">
            <label>Search here</label>
          </md-input-container>
        </md-content>  
      </form>
      </div>

      <md-content>
        <md-button class="md-raised rand" ng-click="addSet()">Add random set</button>
      </md-content>

      <div class="buildings"  ng-repeat="building in buildingData | filter:searchText | limitTo:15">
        <div class="oneBuilding" ng-show="buildingSearch.search.$dirty &&
          buildingSearch.search.$valid && showResults"  ng-click="visBuilding(building)">  
          <span>Hospital: {{building.facilityName}}, </span>
          <span>Building: {{building.buildingName}}, </span>
          <span>County: {{building.countyCode}}</span>
        </div>
      </div>
      
      
      <div ng-repeat="dataset in datasets">
        <d3-field data="dataset.data" probabilities="dataset.probabilities"></d3-field>
      </div>
    </div>


    

        
    <script src="app/riskField.js"></script>
    <script src="app/controllers/d3Controller.js"></script>
    <script src="app/factories/d3DataGenerator.js"></script>
    <script src="app/factories/dataFetcher.js"></script>
    <script src="app/directives/d3Array.js"></script>
    
  </body>
</html>
